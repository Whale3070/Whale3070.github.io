

  <!DOCTYPE html>
  <html lang="en" data-default-color-scheme=&#34;dark&#34; >
  <style>
    .text1
    {
    text-shadow: 0px 0px 2px #f2f3f2;
    }
    </style>

  

<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/null">
  <link rel="icon" type="image/png" href="/null">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="description" content="">
  <meta name="author" content="John Doe">
  <meta name="keywords" content="">
  <title>COBOL考古（三） - whale3070&#39;s blog</title>

  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" />


  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/github-markdown-css@4.0.0/github-markdown.min.css" />
  <link  rel="stylesheet" href="/lib/hint/hint.min.css" />

  
    
    
      
      <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@10.4.0/styles/github-gist.min.css" />
    
  

  
    <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" />
  



<!-- 主题依赖的图标库，不要自行修改 -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_ba1fz6golrf.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_kmeydafke9r.css">


<link  rel="stylesheet" href="/css/main.css" />

<!-- 自定义样式保持在最底部 -->


  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    var CONFIG = {"hostname":"example.com","root":"/","version":"1.8.7","typing":{"enable":false,"typeSpeed":70,"cursorChar":"_","loop":false},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"right","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"copy_btn":true,"image_zoom":{"enable":true},"toc":{"enable":true,"headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"onlypost":false},"web_analytics":{"enable":false,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null}}};
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
<meta name="generator" content="Hexo 6.0.0"></head>


    <body>
      <header style="height: 70vh;">
        <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand"
       href="/">&nbsp;<strong>InfoSec learning</strong>&nbsp;</a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                Home
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                Archives
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                Categories
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                Tags
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" data-toggle="modal" data-target="#modalSearch">&nbsp;<i
                class="iconfont icon-search"></i>&nbsp;</a>
          </li>
        
        
          
        
      </ul>
    </div>
  </div>
</nav>

          <div class="banner" id="banner" false
            style="background: url('/img/default.png') no-repeat center center;
              background-size: cover;">
              <div class="full-bg-img">
                <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
                  <div class="page-header text-center fade-in-up">
                    <span class="h2 text1" id="subtitle" title="COBOL考古（三）">
                      
                        COBOL考古（三）
                      
                    </span>
        
                    
                      <div class="mt-3">
  
  
    <span class="post-meta">
      <i class="iconfont icon-date-fill" aria-hidden="true"></i>
      <time datetime="2023-09-30 16:13" pubdate>
        September 30, 2023 pm
      </time>
    </span>
  
</div>

<div class="mt-1">
  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-chart"></i>
      4.3k 字
    </span>
  

  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-clock-fill"></i>
      
      
      47
       分钟
    </span>
  

  
  
</div>

                    
                  </div>
                    
                  </div>
                  
                </div>
              </div>
          </div>
      </header>

      <main>
        
          

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div class="py-5" id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">COBOL考古（三）</h1>
            
            <div class="markdown-body">
              <h1 id="使用-Code4z-开源扩展包的-VS-Code"><a href="#使用-Code4z-开源扩展包的-VS-Code" class="headerlink" title="使用 Code4z 开源扩展包的 VS Code"></a>使用 Code4z 开源扩展包的 VS Code</h1><p>本节介绍 Code4z 扩展包，特别是 COBOL 语言支持扩展。</p>
<ul>
<li><strong>什么是 Code4z？</strong></li>
<li><strong>已知的文件扩展名</strong></li>
<li><strong>语法突出显示和着色</strong></li>
<li><strong>语法和语义检查</strong></li>
<li><strong>代码导航</strong><ul>
<li><strong>跳转到定义</strong></li>
<li><strong>查找所有引用</strong></li>
</ul>
</li>
<li><strong>Copybook 支持</strong></li>
<li><strong>自动完成</strong></li>
<li><strong>总结</strong></li>
</ul>
<h2 id="Code4z是什么"><a href="#Code4z是什么" class="headerlink" title="Code4z是什么?"></a>Code4z是什么?</h2><p>Code4z 是一个为 Visual Studio Code 提供的一站式开源主机扩展包。Code4z 包含了提供 COBOL 和高级汇编语言支持的扩展，以及用于 COBOL 程序的调试器，还包括一些工具，让开发人员可以使用 Visual Studio Code 界面访问主机数据集和 CA Endevor 代码存储库。本指南主要关注 COBOL 语言支持扩展。Zowe Explorer 扩展也包含在 Code4z 包中。</p>
<p>COBOL 语言支持扩展利用了 Language Server Protocol 来为 COBOL 代码提供自动完成、高亮显示和诊断功能。搭配 Zowe Explorer 使用，您可以从主机数据集加载 COBOL 代码，并使用扩展的 LSP 功能进行编辑。编辑完成后，您可以将文件保存回主机，并在本地保存一份副本。</p>
<p>Code4z 扩展包可以通过在 Visual Studio Code 的扩展市场中搜索 “Code4z” 并选择安装来安装。扩展包包含许多扩展，可以在与主机工作时使用，包括 COBOL 语言支持扩展，提供了与前面讨论的 Z Open Editor 扩展类似的功能。因此，请确保只启用这两个扩展中的一个。扩展包中包含的其他扩展可以与 COBOL 语言支持或 Z Open Editor 一起使用。有关更详细的安装说明，请参阅 “安装 VSCode 和扩展”。</p>
<h2 id="已知的文件扩展名"><a href="#已知的文件扩展名" class="headerlink" title="已知的文件扩展名"></a>已知的文件扩展名</h2><p>Code4z 识别扩展名为 .COB 和 .CBL 的文件为 COBOL 文件。这适用于本地文件和主机上的 PDS 文件。只要您打开一个具有标识为 COBOL 文件的扩展名的文件，COBOL 语言支持功能就会自动启用。</p>
<h2 id="语法高亮和着色"><a href="#语法高亮和着色" class="headerlink" title="语法高亮和着色"></a>语法高亮和着色</h2><p>COBOL 语言支持扩展使关键字、段落和变量以不同的颜色进行着色，以便更轻松地浏览代码。</p>
<h2 id="语法和语义检查"><a href="#语法和语义检查" class="headerlink" title="语法和语义检查"></a>语法和语义检查</h2><p>COBOL 语言支持扩展会检查 COBOL 代码中的错误和问题。语法检查功能会审查整个代码的内容，突出显示错误并提供建议修复方法。</p>
<p><img src="code4z-img1.png" srcset="/img/loading.gif" alt="图1语法和语义检查功能突出显示一个错误"></p>
<h2 id="代码导航"><a href="#代码导航" class="headerlink" title="代码导航"></a>代码导航</h2><p>COBOL 语言支持扩展提供了多种用于轻松导航代码的功能。</p>
<h3 id="跳转到定义"><a href="#跳转到定义" class="headerlink" title="跳转到定义"></a>跳转到定义</h3><p>当光标位于变量或段落名称上时，您可以按 <strong>F12</strong> 或 <strong>CTRL+单击</strong> 来使用<strong>跳转到定义</strong>功能，以显示定义变量或段落的代码部分。</p>
<p><img src="code4z-img3.png" srcset="/img/loading.gif" alt="图2跳转到定义显示了首次定义 USA-STATE 变量的代码部分"></p>
<h3 id="查找所有引用"><a href="#查找所有引用" class="headerlink" title="查找所有引用"></a>查找所有引用</h3><p><strong>查找所有引用</strong>功能（<strong>SHIFT+ALT+F12</strong>）会突出显示对变量或段落的所有引用，并将它们列在侧边栏中的列表中，以便您可以轻松在它们之间导航。</p>
<p><img src="code4z-img4.png" srcset="/img/loading.gif" alt="图3. 查找所有引用列出了代码中对 STREET-ADDR 变量的所有引用。"></p>
<h2 id="复制本支持"><a href="#复制本支持" class="headerlink" title="复制本支持"></a>复制本支持</h2><p>复制本是存储在单独数据集中的源代码片段，程序中会引用这些复制本。COBOL 语言支持扩展使您能够从主机下载程序中引用的所有复制本到您工作区的文件夹中。为了使此功能正常工作，您需要设置和配置一个 Zowe CLI <code>zosmf</code> 配置文件。您还可以启用对存储在工作区文件夹中的复制本的支持。当与存储在 Github 存储库中的 COBOL 项目一起工作时，这将非常有用。</p>
<p>COBOL 语言支持扩展通过对复制本中的关键字、变量和段落进行语义分析，确保代码中调用的复制本保持兼容，并通过在复制本中定义变量和段落来确保代码的一致性。该扩展还有助于防止由于递归或缺失的复制本导致的不希望的错误。</p>
<p><strong>转到定义</strong> 和 <strong>查找所有引用</strong> 功能已扩展，以处理程序中引用的变量和段落的出现，以及程序本身。您还可以在复制本名称上使用 <strong>转到定义</strong> 功能以打开它。</p>
<h2 id="自动完成"><a href="#自动完成" class="headerlink" title="自动完成"></a>自动完成</h2><p>COBOL 语言支持扩展在您输入时提供实时建议，包括 COBOL 关键字以及已在代码或程序使用的复制本中引用的变量和段落。</p>
<p><img src="code4z-img5.png" srcset="/img/loading.gif" alt="图 4. 自动完成列出了以键入的字符串开头的可能变量和关键字的列表。"></p>
<p><em>图 4. 自动完成列出了以键入的字符串开头的可能变量和关键字的列表。</em></p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>在本章中，您已经了解了用于 VS Code 的开源扩展包 Code4z 的所有 COBOL 语言支持功能。这些功能将有助于改进 COBOL 开发体验，使其更加高效和便捷。</p>
<h1 id="Zowe-CLI-和-Zowe-CLI-插件"><a href="#Zowe-CLI-和-Zowe-CLI-插件" class="headerlink" title="Zowe CLI 和 Zowe CLI 插件"></a>Zowe CLI 和 Zowe CLI 插件</h1><p>在这一章中，我们将解释什么是 CLI，以及为什么要使用它，如何在交互式环境中使用 Zowe CLI，如何将 CLI 命令抽象成有用的脚本，以及如何在开发主机上的 COBOL 应用程序时，Zowe CLI 可以使用熟悉的开源工具。</p>
<ul>
<li><p><strong>什么是 CLI 以及为什么要使用它？</strong></p>
</li>
<li><p><strong>什么是 Zowe CLI？</strong></p>
</li>
<li><p><strong>Zowe CLI 的交互式使用</strong></p>
<ul>
<li><strong>安装 Zowe CLI</strong></li>
<li><strong>交互式帮助</strong></li>
<li><strong>Zowe 配置文件</strong></li>
<li><strong>与 z/OS 数据集交互</strong></li>
<li><strong>与 z/OS 作业交互</strong></li>
</ul>
</li>
<li><p><strong>使用 Zowe CLI 自动化任务</strong></p>
<ul>
<li><strong>自动作业提交</strong></li>
<li><strong>使用其他编程语言和持续集成</strong></li>
<li><strong>其他示例</strong></li>
</ul>
</li>
<li><p><strong>现代开源工具的世界</strong></p>
</li>
<li><p><strong>总结</strong></p>
</li>
</ul>
<h2 id="什么是-CLI-以及为什么要使用它？"><a href="#什么是-CLI-以及为什么要使用它？" class="headerlink" title="什么是 CLI 以及为什么要使用它？"></a>什么是 CLI 以及为什么要使用它？</h2><p>CLI 代表命令行界面（Command Line Interface）。它是一种通过基于文本的输入进行用户交互的程序。在计算机早期，命令行界面是与操作系统交互的唯一方式。鼠标的发明和图形用户界面的发展导致了我们今天熟悉的体验。设计良好的 GUI 显然可以提供更好的交互体验。然而，CLI 仍然在今天广泛使用，并且非常强大。Windows shell 和 bash 是常见的终端示例，其中可以交互运行命令行工具。</p>
<p>如果设计良好的 GUI 提供了更好的交互体验，那么为什么要使用 CLI 呢？简而言之，自动化。命令行界面可以用于交互式使用，允许快速探索可用命令。它们通常是自导向的，一些甚至通过在浏览器中启动内容来提供现代帮助显示。但是，它们也是程序化界面，其中命令序列和任务可以轻松抽象为脚本。</p>
<h2 id="什么是-Zowe-CLI？"><a href="#什么是-Zowe-CLI？" class="headerlink" title="什么是 Zowe CLI？"></a>什么是 Zowe CLI？</h2><p>Zowe CLI 是用于主机的开源命令行界面（CLI）。它是一种可在Windows、Linux和Mac上运行的工具，提供了一种在现代开源工具环境中与主机进行交互的方式。云平台，如Amazon Web Services、Azure和Google Cloud Platform，都提供了广泛使用的 CLI。Zowe CLI 帮助使与主机的交互类似于与其他云服务的交互。</p>
<p>在其核心，Zowe CLI 提供了与 z/OS 数据集和作业、Unix 系统服务文件、TSO 和控制台命令以及配置服务的远程交互。Zowe CLI 还是一种可扩展的技术，存在许多插件，可以将其扩展到 z/OS 子系统和供应商软件中。</p>
<p>Zowe CLI 是分布式系统和主机之间的桥梁工具。选择您喜欢的编程语言或开源工具，并在 Zowe CLI 的帮助下利用它进行主机开发。想要在 Python 中开发自动化任务？想要使用 Node 编写测试？想要运行 Jenkins 流水线进行持续集成？想要使用像 Mocha 或 Facebook 的 Jest 这样的开源测试框架？想要利用 SonarQube 等代码质量工具？都可以实现！</p>
<p>命令行界面非常适用于自动化重复任务。对于主机 COBOL 应用程序，Zowe CLI 可以帮助您自动化构建、部署和测试过程。查看这篇<a target="_blank" rel="noopener" href="https://medium.com/zowe/continuous-integration-for-a-mainframe-app-800657e84e96">博客</a>以获取更多信息和实现这一目标的示例代码！Zowe CLI 还可以帮助您自动化管理任务。</p>
<p>大多数集成开发环境（IDE）也都具有集成的终端，因此可以从您喜欢的分布式开发环境中利用 CLI，包括 VS Code！</p>
<p>Zowe CLI 用于快速探索 z/OS 服务以及执行尚未在您选择的 IDE 中提供的命令。在开发自动化之前，通常首先使用 CLI 以交互方式完成常见的重复任务。</p>
<h3 id="安装-Zowe-CLI"><a href="#安装-Zowe-CLI" class="headerlink" title="安装 Zowe CLI"></a>安装 Zowe CLI</h3><p>Zowe CLI 是一个 Node.js 包，是公共 npm 注册表上的超过 120 万个 Node.js 包之一。在客户端机器上安装 Node.js 和 npm 后，可以通过简单地运行 <code>npm install -g @zowe/cli@zowe-v1-lts</code> 来安装核心 CLI。如果您的工作站无法访问公共注册表，则还有另一种安装方法。有关安装 Zowe CLI 和 Zowe CLI 插件的更多详细信息，请参见后面标题为 “Zowe CLI 和插件的安装” 的部分。</p>
<h3 id="Interactive-Help"><a href="#Interactive-Help" class="headerlink" title="Interactive Help"></a>Interactive Help</h3><p>要开始使用，您可以简单地打开终端并输入 <code>zowe</code>。这将显示顶层帮助信息。<br><img src="zowe-cli-help.png" srcset="/img/loading.gif"></p>
<p><em>Figure 1. Zowe CLI Help</em></p>
<p>在上面的示例中，安装了多个扩展。命令的结构是 <code>zowe &lt;group&gt; &lt;action&gt; &lt;object&gt;</code>，然后是特定于该命令的各种参数和选项。例如，有效的命令是 <code>zowe files list data-set &quot;HLQ.*&quot;</code>。此命令将列出与模式 “HLQ.*” 匹配的数据集。您可以在任何命令后附加 <code>-h</code> 以获取更多信息。经常参考帮助文档可能会很困难和耗时，所以如果您的环境可以访问Web浏览器，只需在任何命令后附加 <code>--help-web</code> 或 <code>--hw</code> 来启动交互式Web帮助。</p>
<p><img src="zowe-cli-web-help.png" srcset="/img/loading.gif"></p>
<p><em>Figure 2. Zowe CLI Web Help</em></p>
<p>Don’t have the CLI installed yet? You can also check out a copy of the web help for the core Zowe CLI and Zowe plug-ins <a target="_blank" rel="noopener" href="https://docs.zowe.org/stable/web_help/index.html">here</a>.</p>
<h3 id="Zowe-Profiles"><a href="#Zowe-Profiles" class="headerlink" title="Zowe Profiles"></a>Zowe Profiles</h3><p>Zowe客户端技术，比如Zowe CLI和Zowe Explorer VS Code扩展，会将连接信息存储在通常称为配置文件的文件中。这提供了便利，因为在创建服务的配置文件后，用户就不必不断地提供这些信息。为了安全地存储凭据，还有一个名为“安全凭据存储”的插件，后面的章节“安装Zowe CLI和插件”中将更详细地讨论。安全凭据存储提供了一种将凭据存储在操作系统安全凭据库中的方法。</p>
<p>在创建配置文件时，您还可以指定<code>prompt*</code>关键字，以便在命令行上提示输入用户名和密码，从而使它们在命令行上被屏蔽。图3显示了创建zosmf配置文件的示例命令。这将消除在以后的命令中提供这些详细信息的需要。</p>
<p><img src="zowe-cli-zosmf-profile-creation-command.png" srcset="/img/loading.gif"></p>
<p><em>图 3. Zowe CLI z/OSMF 配置文件创建命令</em></p>
<h3 id="与-z-OS-数据集进行交互"><a href="#与-z-OS-数据集进行交互" class="headerlink" title="与 z/OS 数据集进行交互"></a>与 z/OS 数据集进行交互</h3><p>Zowe CLI 提供了大量的 z/OS 数据集交互功能。请参阅以下图表，了解可用操作的详细信息以及示例列表命令。</p>
<p><img src="zowe-cli-zos-files-actions.png" srcset="/img/loading.gif" alt="图 4. Zowe CLI zos-files 操作"></p>
<p><em>图 4. Zowe CLI zos-files 操作</em></p>
<p><img src="zowe-cli-zos-files-list-ds-command.png" srcset="/img/loading.gif" alt="图 5. 示例 Zowe CLI zos-files list ds 命令"></p>
<p><em>图 5. 示例 Zowe CLI zos-files list ds 命令</em></p>
<h3 id="与-z-OS-作业进行交互"><a href="#与-z-OS-作业进行交互" class="headerlink" title="与 z/OS 作业进行交互"></a>与 z/OS 作业进行交互</h3><p>Zowe CLI 提供了大量的 z/OS 作业交互功能。请参阅以下图表，了解可用操作的详细信息以及示例作业提交命令。</p>
<p><img src="zowe-cli-zos-jobs-actions.png" srcset="/img/loading.gif" alt="图 6. Zowe CLI zos-jobs 操作"></p>
<p><em>图 6. Zowe CLI zos-jobs 操作</em></p>
<p><img src="zowe-cli-zos-jobs-submit-ds-command.png" srcset="/img/loading.gif" alt="图 7. 示例 Zowe CLI zos-jobs submit ds 命令"></p>
<p><em>图 7. 示例 Zowe CLI zos-jobs submit ds 命令</em></p>
<h3 id="自动化使用Zowe-CLI"><a href="#自动化使用Zowe-CLI" class="headerlink" title="自动化使用Zowe CLI"></a>自动化使用Zowe CLI</h3><p>运行命令是学习Zowe CLI功能的绝佳方式。然而，为常见重复任务创建自定义自动化并利用有价值的开发工具是其中的重要价值所在。对于COBOL开发，花费大量时间来审查编译器输出和测试程序是很常见的。这些重复性任务非常适合自动化。</p>
<h3 id="自动作业提交"><a href="#自动作业提交" class="headerlink" title="自动作业提交"></a>自动作业提交</h3><p>让我们来研究如何自动提交作业并验证返回码是否为0。当然，我们也可以解析输出队列输出以查找感兴趣的特定消息，但我们现在将保持简单。对于此示例，我们将利用Node.js开发一个新的自动化套件。首先，我将创建一个package.json文件，以便其他人可以轻松管理和安装项目。它将包含我的项目的依赖项列表，以及我将开发的自动化任务。创建package.json文件的快速方法是运行<code>npm init</code>并回答提示。创建后，我将添加一个submitJob任务。您可以在此处添加任何您想要的自动化。我的最终package.json如下图所示。您可以在<a target="_blank" rel="noopener" href="https://docs.npmjs.com/creating-a-package-json-file">这里</a>了解更多关于package.json文件的信息。<br><img src="sample-package-json.png" srcset="/img/loading.gif"></p>
<p><em>图 8. 示例 package.json</em></p>
<p>然后，我将创建一个 config.json 文件来存储我可能希望为我的项目更改的所有变量。在这种情况下，我们将设置要提交的作业以及该作业的最大允许返回代码。</p>
<p><img src="sample-config-json.png" srcset="/img/loading.gif" alt="示例 config.json"></p>
<p><em>图 9. 示例 config.json</em></p>
<p>接下来，我们将编写自动化脚本。Zowe CLI 是为脚本编写而设计的，并且可以以 JSON 格式输出响应，可以轻松解析。</p>
<p><img src="zowe-cli-response-format-json.png" srcset="/img/loading.gif" alt="示例 Zowe CLI 响应格式 JSON 输出"></p>
<p><em>图 10. 示例 Zowe CLI 响应格式 JSON 输出</em></p>
<p>现在，不再需要手动执行此命令并查看返回代码是否小于或等于 4，我们希望自动化执行它。请查看下面的 Node.js 脚本示例。</p>
<p><img src="script-to-submit-job-check-rc.png" srcset="/img/loading.gif" alt="用于提交作业并验证输出是否小于或等于最大允许 RC 的示例代码"></p>
<p><em>图 11. 用于提交作业并验证输出是否小于或等于最大允许 RC 的示例代码</em></p>
<p>我不得不投入精力来编写这个自动化脚本，但对于将来的作业提交，我只需运行 <code>npm run submitJob</code>。像 VS Code 这样的集成开发环境可以可视化这些任务，使我经常重复的任务变得像点击按钮一样容易：）。这个作业可以编译、链接和/或运行 COBOL 程序。</p>
<p><img src="npm-script-button-click-and-run.png" srcset="/img/loading.gif" alt="npm 脚本按钮点击和运行的可视化"></p>
<p><em>图 12. npm 脚本按钮点击和运行的可视化</em></p>
<p>有关自动化编译、部署到测试环境以及测试 COBOL CICS 应用程序的更高级代码，请参阅<a target="_blank" rel="noopener" href="https://medium.com/zowe/continuous-integration-for-a-mainframe-app-800657e84e96">此博客</a>。</p>
<p>另一个使用 Zowe CLI 自动化任务的好例子是当您想要将其他编程语言集成到 COBOL 开发中时。与 3.4.1 类似，您可以使用其他语言，比如 TypeScript，编写一个 COBOL 程序生成器，并使用 Zowe CLI 创建一个“一键式”流程，用于创建您的程序。下面的图表示了这个“一键式”自动化流程，其中执行了多个任务，如创建 COBOL 程序、将其上传到主机、编译它并运行 JCL 来测试它。</p>
<p><img src="one-click-cobol-build.png" srcset="/img/loading.gif" alt="“一键式” COBOL 构建过程"></p>
<p><em>图 13. “一键式” COBOL 构建过程</em></p>
<p>然后，您可以通过利用 CI/CD 流水线来升级此流程。什么是 CI/CD 流水线？这是一种自动化的方式，用于构建、测试和部署应用程序，您也可以对 COBOL 开发采用相同的方式。下面的图展示了我们之前执行的相同自动化任务的流水线。</p>
<p><img src="CircleCI-pipeline.png" srcset="/img/loading.gif" alt="“一键式” COBOL 构建过程的 CI/CD 流水线"></p>
<p><em>图 14. “一键式” COBOL 构建过程的 CI/CD 流水线</em></p>
<p>要了解更多信息，请查看<a target="_blank" rel="noopener" href="https://medium.com/@jessielaine.punongbayan/how-i-used-typescript-to-generate-my-cobol-programs-a2a180209148">这里</a>。</p>
<h3 id="其他示例"><a href="#其他示例" class="headerlink" title="其他示例"></a>其他示例</h3><p>如果您正在寻找如何在 Zowe Explorer 和 Zowe CLI 中使用 Db2 存储过程的示例，请查看此<a target="_blank" rel="noopener" href="https://www.idug.org/browse/blogs/blogviewer?BlogKey=22f9b8b4-4645-4c50-ba31-2d1140025544">博客</a>。</p>
<p>如果您对在开发中使用开源工具感兴趣，您可以查看此<a target="_blank" rel="noopener" href="https://medium.com/zowe/how-to-write-cleaner-and-safer-z-os-code-with-zowe-cli-and-sonarqube-6afb283348f9">博客</a>，其中讨论了如何在开发 COBOL 应用程序时使用 Zowe CLI 来利用静态代码分析工具。</p>
<p>有关如何利用 Zowe 技术的其他博客和文章，请访问<a target="_blank" rel="noopener" href="https://medium.com/zowe">https://medium.com/zowe</a>。</p>
<h2 id="现代开源工具的世界"><a href="#现代开源工具的世界" class="headerlink" title="现代开源工具的世界"></a>现代开源工具的世界</h2><p>我们只是初步介绍了如何使用现代工具和编程语言进行主机开发，并将主机应用程序纳入企业 DevOps 流程。作为一个桥梁工具，Zowe CLI 允许使用庞大社区开发的各种工具进行主机开发。如果您是主机新手，希望这为您提供了一些熟悉感，使您能够过渡到这个领域。如果您是经验丰富的主机开发人员，希望您能抽出时间尝试一些可用的技术，看看它们是否能帮助您。</p>
<h2 id="总结-1"><a href="#总结-1" class="headerlink" title="总结"></a>总结</h2><p>作为用户和程序接口，命令行界面在将复杂的可重复过程简化为单个任务方面提供了重要价值。在像亚马逊 Web 服务等流行的云平台上开发时，通常使用 CLI。Zowe CLI 是用于主机的 CLI，已通过众多插件进行了扩展。Zowe CLI 充当桥梁工具，使您可以在处理主机应用程序时使用分布式开发工具。有大量资源和文章可用于使用 Zowe CLI 创建自定义自动化、构建 CI 流水线并将静态分析纳入 COBOL 开发流程中。分布式开源社区创建的开发工具现在可以有效用于主机开发。</p>

            </div>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                
                  <div class="post-meta">
                    <i class="iconfont icon-tags"></i>
                    
                      <a class="hover-with-bg" href="/tags/program/">program</a>
                    
                  </div>
                
              </div>
              
                
              
              
                <div class="post-prevnext">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2023/09/30/0933c60bab45/">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">COBOL考古（四）</span>
                        <span class="visible-mobile">Previous</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2023/09/27/d5b22df7bf46/">
                        <span class="hidden-mobile">13个薪资最高的网络安全职位</span>
                        <span class="visible-mobile">Next</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;TOC</p>
  <div class="toc-body" id="toc-body"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->


            

                
                  <a id="scroll-top-button" href="#" role="button">
                    <i class="iconfont icon-arrowup" aria-hidden="true"></i>
                  </a>
                  

                    
                      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">Search</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">keyword</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
                        

                          
      </main>

      <footer class="text-center mt-5 py-3">
  <div class="footer-content">
     <a href="https://whale3070.github.io/" target="_blank" rel="nofollow noopener"><span>Whale3070</span></a> 
  </div>
  
  <div class="statistics">
    
    

    
      
        <!-- 不蒜子统计PV -->
        <span id="busuanzi_container_site_pv" style="display: none">
            总访问量 
            <span id="busuanzi_value_site_pv"></span>
             次
          </span>
      
      
        <!-- 不蒜子统计UV -->
        <span id="busuanzi_container_site_uv" style="display: none">
            总访客数 
            <span id="busuanzi_value_site_uv"></span>
             人
          </span>
      
    
  </div>


  

  
</footer>

<!-- SCRIPTS -->

  <script  src="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js" ></script>
<script  src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js" ></script>
<script  src="/js/debouncer.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>

<!-- Plugins -->


  
    <script  src="/js/lazyload.js" ></script>
  



  



  <script  src="https://cdn.jsdelivr.net/npm/tocbot@4.12.0/dist/tocbot.min.js" ></script>



  <script  src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js" ></script>



  <script  src="https://cdn.jsdelivr.net/npm/anchor-js@4.3.0/anchor.min.js" ></script>



  <script defer src="https://cdn.jsdelivr.net/npm/clipboard@2.0.6/dist/clipboard.min.js" ></script>



  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>






  <script  src="/js/local-search.js" ></script>
  <script>
    (function () {
      var path = "/local-search.xml";
      var inputArea = document.querySelector("#local-search-input");
      inputArea.onclick = function () {
        searchFunc(path, 'local-search-input', 'local-search-result');
        this.onclick = null
      }
    })()
  </script>















<!-- 主题的启动项 保持在最底部 -->
<script  src="/js/boot.js" ></script>



    </body>

  </html>